# # Use the latest 2.1 version of CircleCI pipeline process engine. See: https://circleci.com/docs/2.0/configuration-reference
# version: 2.1
# # Use a package of configuration called an orb.
# orbs:
#   # Declare a dependency on the welcome-orb
#   welcome: circleci/welcome-orb@0.4.1
# # Orchestrate or schedule a set of jobs
# workflows:
#   # Name the workflow "welcome"
#   welcome:
#     # Run the welcome/run job in its own container
#     jobs:
#       - welcome/run

# version: 2.1

# orbs:
#   react: thefrontside/react@0.2.0

# workflows:
#   push:
#     jobs:
#       - react/install
#       - react/eslint:
#           requires:
#             - react/install
#       - react/stylelint:
#           requires:
#             - react/install
#       - react/test:
#           requires:
#             - react/install
#       - react/coverage:
#           requires:
#             - react/install
  

version: 2
jobs:  
  build:    
    docker:      
      - image: node:11    
    steps:      
      - checkout

      - restore_cache: # special step to restore the dependency cache          
          key: dependency-cache-{{ checksum "package.json" }}      
      
      - run:          
          name: Setup Dependencies          
          command: npm install          
      
      - save_cache: # special step to save the dependency cache          
          key: dependency-cache-{{ checksum "package.json" }}          
          paths:            
            - ./node_modules
      
      - run:
          name: Build npm
          command: npm run build


# version: 2.1
# orbs:
#   heroku: circleci/heroku@0.0.10
#   workflows:
#     heroku_deploy:
#       jobs:
#         - build
#         - heroku/deploy-via-git: # Use the pre-configured job, deploy-via-git
#             requires:
#               - build
#             filters:
#               branches:
#                 only: circleci-project-setup

# jobs:  
#   build:    
#     docker:      
#       - image: node:11    
#     steps:      
#       - checkout

#       - restore_cache: # special step to restore the dependency cache          
#           key: dependency-cache-{{ checksum "package.json" }}      
      
#       - run:          
#           name: Setup Dependencies          
#           command: npm install          
      
#       - save_cache: # special step to save the dependency cache          
#           key: dependency-cache-{{ checksum "package.json" }}          
#           paths:            
#             - ./node_modules
      
#       # - run:
#       #     name: Build npm
#       #     command: npm run build
